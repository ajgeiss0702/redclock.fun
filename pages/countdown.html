<div id="custom-background"></div>
<script src='/js/countdown.js?c=1' defer async></script>
<div id="blur">
  <div class='countdown-container'>
    <div class='countdown-inner-container'>
      <div id='countdown-text'></div><br>
      <div id='countdown-period'>The countdown is not loading for some reason..</div>
    </div>
  </div>
  <div id='weather'>
    <div id='weatherdiv'></div>
  </div>
  <div class='sidebar'>
    <nav>
      <div class='nav nav-tabs' id='sidebar-tabs'>
        <a class='nav-item nav-link active' id='sidebar-tab-news' data-toggle='tab' href='#news-container'>News</a>
        <a class='nav-item nav-link' id='sidebar-tab-times' data-toggle='tab' href='#times-container'>Schedule</a>
        <a class='nav-item nav-link' id='sidebar-tab-settings' data-toggle='tab' href='#settings-container'>Settings</a>
        <a class='nav-item nav-link' id='sidebar-tab-link' data-toggle='tab' href='#links-container'>Links</a>
      </div>
    </nav>

    <div class='tab-content'>


      <div id='news-container' class='tab-pane fade show active'></div>

      <div id='times-container' class='tab-pane fade'>
        <br>
        <h1 id="exact-time"></h1>
        <br>
        <span id="schedule-table">Loading..</span><br>
        <a class='btn btn-primary' onclick='openDatePreviewMenu()'>Date Preview</a><br>
        <br><br><br><br><br>
      </div>

      <div id='settings-container' class='tab-pane fade'></div>

      <div id='links-container' class='tab-pane fade'>
        <h1>Links</h1>

        <a class='btn btn-primary' href='https://discord.gg/shSg6r8' target='_blank'>
          <img src='/img/icons/discord.svg' style='height: 1em;'> Discord
        </a><br>
        <br>
        <a class='btn btn-outline-primary' href="/#extensions">Allowed extensions</a><br>
        <br>
        <a class='btn btn-secondary' href='https://feedbacky.net/p/redclockfun' target='_blank'>
          Suggest a feature
        </a><br>
        <br>
        <a class='btn btn-outline-secondary' href='https://gitlab.com/ajg0702/redclock.fun/wikis/Contact' target='_blank'>
          Report an issue
        </a>
      </div>

    </div>
  </div>
  <div class='calibration hidden' id='calibration'>Calibrating timer..</div>
</div>


<div id="layout-selector" style='display: none;'>
  <a class='layout-selector-close' onclick='closeLayoutMenu()'>x</a>
  <h2>Theme</h2>
  <label class="tgl tgl-themes">
    <input type="checkbox" id='themeCheckBox' onchange="checkTheme()">
    <span data-on="Dark" data-off="Light"></span>
  </label>
  <hr>
  <br>
  <h2>Layouts</h2>
  <div class='layouts' id='layouts'></div>
  <hr>
  <br>
  <h2>Custom Background</h2>
  <input type="file" id="custom-background-file" accept="image/*"><br>
  <input type="checkbox" id="background-fill-screen"> Fill screen<br><br>
  <div id="removeBackground"></div>
</div>

<div id="date-preview" style='display: none;'>
  <a class='layout-selector-close' onclick='closeDatePreviewMenu()'>x</a>
  <h2>Schedule preview</h2>
  View the schedule for whatever day you would like!<br>
  <small>Sometimes I put in a special schedule the day before it is going to happen.</small><br>
  <input id='date-preview_date-select' type='date' onchange="updateDatePreview()"><br>
  <br>
  <div id='date-preview-table'>Please enter a date above</div>
</div>


<script>

$('#sidebar-tabs a').on('click', function (e) {
  localStorage.tabId = this.id;
})

rcf.on('load', () => {
  var tab = localStorage.tabId
  if(typeof tab != 'undefined') {
    $('#'+tab).tab('show');
  }
})

</script>
